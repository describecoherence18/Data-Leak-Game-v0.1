<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Dino Duck Game&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: "Inter", sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f0f0f0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden; /* Prevent scrollbars */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>canvas {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #fff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 2px solid #333;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #e0e0e0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative; /* Needed for absolute positioning of overlay */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-info {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 600px; /* Match canvas width */</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-sizing: border-box;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-overlay {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgba(0, 0, 0, 0.6);</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 2em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 10;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: opacity 0.3s ease; /* Smooth fade effect */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-overlay.hidden {</p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>pointer-events: none; /* Allows clicks to pass through when hidden */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-overlay button {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 10px 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.6em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #4CAF50;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 5px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.3s ease;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.game-overlay button:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #45a049;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="game-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="game-info"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="score" class="text-xl font-bold text-gray-700"&gt;Score: 0&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="highScore" class="text-xl font-bold text-gray-700"&gt;High Score: 0&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;canvas id="gameCanvas" width="800" height="300"&gt;&lt;/canvas&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Single overlay element for all messages --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="gameOverlay" class="game-overlay"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p id="overlayMessage"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="overlayButton" class="hidden"&gt;Restart&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Get the canvas and its context</p>
<p class="p1"><span class="Apple-converted-space">        </span>const canvas = document.getElementById('gameCanvas');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const ctx = canvas.getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const gameOverlay = document.getElementById('gameOverlay');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const overlayMessage = document.getElementById('overlayMessage');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const overlayButton = document.getElementById('overlayButton');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Game variables</p>
<p class="p1"><span class="Apple-converted-space">        </span>let gameRunning = false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let score = 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let highScore = localStorage.getItem('dinoDuckHighScore') || 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let gameSpeed = 5; // Initial game speed</p>
<p class="p1"><span class="Apple-converted-space">        </span>const gravity = 0.8; // Gravity for faster fall</p>
<p class="p1"><span class="Apple-converted-space">        </span>let obstacles = []; // Array to hold current obstacles</p>
<p class="p1"><span class="Apple-converted-space">        </span>let frame = 0; // Frame counter for obstacle generation</p>
<p class="p1"><span class="Apple-converted-space">        </span>let obstacleInterval = 90; // How often obstacles appear (lower is more frequent)</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Adjusted obstacle interval for more varied spacing</p>
<p class="p1"><span class="Apple-converted-space">        </span>let minObstacleInterval = 100; // Allows for closer obstacles</p>
<p class="p1"><span class="Apple-converted-space">        </span>let maxObstacleInterval = 350; // Allows for farther obstacles</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Player (Duck) properties</p>
<p class="p1"><span class="Apple-converted-space">        </span>const player = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>x: 50,</p>
<p class="p1"><span class="Apple-converted-space">            </span>y: canvas.height - 70, // Initial Y position (on the ground)</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 60,</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 60,</p>
<p class="p1"><span class="Apple-converted-space">            </span>dy: 0, // Delta Y for jumping</p>
<p class="p1"><span class="Apple-converted-space">            </span>grounded: true, // Is the player on the ground?</p>
<p class="p1"><span class="Apple-converted-space">            </span>jumpStrength: -16 // Jump strength</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Update score display</p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateScoreDisplay() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('score').textContent = `Score: ${Math.floor(score)}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('highScore').textContent = `High Score: ${Math.floor(highScore)}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to draw the duck character</p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawDuck(x, y, width, height) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = '#FFD700'; // Yellow for duck body</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(x + width * 0.5, y + height * 0.7, width * 0.4, 0, Math.PI * 2); // Body</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(x + width * 0.7, y + height * 0.3, width * 0.25, 0, Math.PI * 2); // Head</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = '#FFA500'; // Orange for beak</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.8, y + height * 0.3);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 1.0, y + height * 0.35);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.8, y + height * 0.4);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.closePath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = '#000'; // Black for sunglasses</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillRect(x + width * 0.6, y + height * 0.25, width * 0.2, height * 0.1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillRect(x + width * 0.75, y + height * 0.25, width * 0.2, height * 0.1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.strokeStyle = '#000';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineWidth = 2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke(); // Outline for the duck</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to draw the skull padlock character</p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawSkullPadlock(x, y, width, height) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = '#DDA0DD'; // Light purple for padlock body</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Check if ctx.roundRect is available, otherwise fall back to manual arcs</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (ctx.roundRect) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.roundRect(x, y + height * 0.2, width, height * 0.8, 10); // Padlock body with rounded corners</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Fallback for browsers not supporting roundRect</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.moveTo(x + 10, y + height * 0.2);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.lineTo(x + width - 10, y + height * 0.2);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.arcTo(x + width, y + height * 0.2, x + width, y + height * 0.2 + 10, 10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.lineTo(x + width, y + height * 0.8 + 10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.arcTo(x + width, y + height, x + width - 10, y + height, 10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.lineTo(x + 10, y + height);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.arcTo(x, y + height, x, y + height * 0.8 + 10, 10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.lineTo(x, y + height * 0.2 + 10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>ctx.arcTo(x, y + height * 0.2, x + 10, y + height * 0.2, 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.strokeStyle = '#000';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineWidth = 2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = '#4169E1'; // Royal blue for shackle</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(x + width * 0.5, y + height * 0.2, width * 0.3, Math.PI, 0, false); // Top arc</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.8, y);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(x + width * 0.5, y + height * 0.2, width * 0.2, 0, Math.PI, true); // Inner arc</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.2, y);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.closePath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Skull face details</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = '#483D8B'; // Darker purple for eyes/nose</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(x + width * 0.35, y + height * 0.5, width * 0.08, 0, Math.PI * 2); // Left eye</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(x + width * 0.65, y + height * 0.5, width * 0.08, 0, Math.PI * 2); // Right eye</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.5, y + height * 0.6);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.45, y + height * 0.7);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.55, y + height * 0.7);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.closePath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill(); // Nose</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.strokeStyle = '#000'; // Black for mouth lines</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineWidth = 2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.3, y + height * 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.3, y + height * 0.75);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.4, y + height * 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.4, y + height * 0.75);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.5, y + height * 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.5, y + height * 0.75);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.6, y + height * 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.6, y + height * 0.75);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x + width * 0.7, y + height * 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + width * 0.7, y + height * 0.75);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Draw the player</p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawPlayer() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>drawDuck(player.x, player.y, player.width, player.height);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Draw obstacles</p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawObstacles() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>obstacles.forEach(obstacle =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>drawSkullPadlock(obstacle.x, obstacle.y, obstacle.width, obstacle.height);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Draw the ground</p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawGround() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(0, canvas.height - 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(canvas.width, canvas.height - 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineWidth = 2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.strokeStyle = '#333';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Update game state</p>
<p class="p1"><span class="Apple-converted-space">        </span>function update() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!gameRunning) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Update player position (jumping)</p>
<p class="p1"><span class="Apple-converted-space">            </span>player.dy += gravity;</p>
<p class="p1"><span class="Apple-converted-space">            </span>player.y += player.dy;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Prevent player from falling through the ground</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (player.y + player.height &gt; canvas.height - 10) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>player.y = canvas.height - 10 - player.height;</p>
<p class="p1"><span class="Apple-converted-space">                </span>player.dy = 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>player.grounded = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Move obstacles</p>
<p class="p1"><span class="Apple-converted-space">            </span>obstacles.forEach(obstacle =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>obstacle.x -= gameSpeed;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Remove off-screen obstacles</p>
<p class="p1"><span class="Apple-converted-space">            </span>obstacles = obstacles.filter(obstacle =&gt; obstacle.x + obstacle.width &gt; 0);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Generate new obstacles</p>
<p class="p1"><span class="Apple-converted-space">            </span>frame++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (frame % obstacleInterval === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const obstacleWidth = 40;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const obstacleHeight = 50;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const obstacleX = canvas.width;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const obstacleY = canvas.height - 10 - obstacleHeight; // On the ground</p>
<p class="p1"><span class="Apple-converted-space">                </span>obstacles.push({ x: obstacleX, y: obstacleY, width: obstacleWidth, height: obstacleHeight });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Randomize next obstacle interval for variety</p>
<p class="p1"><span class="Apple-converted-space">                </span>obstacleInterval = Math.floor(Math.random() * (maxObstacleInterval - minObstacleInterval + 1)) + minObstacleInterval;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Increase score</p>
<p class="p1"><span class="Apple-converted-space">            </span>score += 0.1; // Score increases over time</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateScoreDisplay();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Increase game speed gradually</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (score &gt; 0 &amp;&amp; Math.floor(score) % 100 === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameSpeed += 0.1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Collision detection</p>
<p class="p1"><span class="Apple-converted-space">            </span>obstacles.forEach(obstacle =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>player.x &lt; obstacle.x + obstacle.width &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>player.x + player.width &gt; obstacle.x &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>player.y &lt; obstacle.y + obstacle.height &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>player.y + player.height &gt; obstacle.y</p>
<p class="p1"><span class="Apple-converted-space">                </span>) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>gameOver();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Game over function</p>
<p class="p1"><span class="Apple-converted-space">        </span>function gameOver() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameRunning = false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (score &gt; highScore) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>highScore = Math.floor(score);</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStorage.setItem('dinoDuckHighScore', highScore);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateScoreDisplay();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Show the overlay with game over message and restart button</p>
<p class="p1"><span class="Apple-converted-space">            </span>overlayMessage.textContent = `GAME OVER\nYour Score: ${Math.floor(score)}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overlayButton.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameOverlay.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Reset game state</p>
<p class="p1"><span class="Apple-converted-space">        </span>function resetGame() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>score = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameSpeed = 5;</p>
<p class="p1"><span class="Apple-converted-space">            </span>player.y = canvas.height - 70;</p>
<p class="p1"><span class="Apple-converted-space">            </span>player.dy = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>player.grounded = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>obstacles = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>frame = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateScoreDisplay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameRunning = true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameLoop(); // Start the game loop again</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Main game loop</p>
<p class="p1"><span class="Apple-converted-space">        </span>function gameLoop() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>drawGround();</p>
<p class="p1"><span class="Apple-converted-space">            </span>drawPlayer();</p>
<p class="p1"><span class="Apple-converted-space">            </span>drawObstacles();</p>
<p class="p1"><span class="Apple-converted-space">            </span>update();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (gameRunning) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>requestAnimationFrame(gameLoop);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Event listener for jumping (spacebar or click)</p>
<p class="p1"><span class="Apple-converted-space">        </span>function handleGameStart() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!gameRunning) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>gameOverlay.classList.add('hidden'); // Hide the overlay</p>
<p class="p1"><span class="Apple-converted-space">                </span>overlayButton.classList.add('hidden'); // Hide the button</p>
<p class="p1"><span class="Apple-converted-space">                </span>resetGame();</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (player.grounded) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>player.dy = player.jumpStrength;</p>
<p class="p1"><span class="Apple-converted-space">                </span>player.grounded = false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('keydown', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (e.code === 'Space') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>handleGameStart();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>canvas.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>handleGameStart();</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>overlayButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>handleGameStart(); // Restart also uses handleGameStart to hide overlay and reset</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Initialize game on window load</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.onload = function () {</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateScoreDisplay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>// Show initial message</p>
<p class="p1"><span class="Apple-converted-space">            </span>overlayMessage.textContent = 'Press SPACE or Click to Start';</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameOverlay.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
